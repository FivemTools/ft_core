/**
 * @Project: FivemTools
 * @Author: Samuelds
 * @License: GNU General Public License v3.0
 * @Source: https://github.com/FivemTools/ft_core
 */

class Entity{constructor(e=0){this.id=e}get model(){return void 0===this._model&&(this._model=GetEntityModel(this.id)),this._model}set model(e){this._model=e}SetModelByName(e){this.model=GetHashKey(e)}get health(){return this._health=GetEntityHealth(this.id),this._health}set health(e){this._health=e,SetEntityHealth(this.id,e)}get maxHealth(){return this._maxHealth=GetEntityMaxHealth(this.id),this._maxHealth}set maxHealth(e){this._maxHealth=e,SetEntityMaxHealth(this.id,this._maxHealth)}get coords(){const e=GetEntityCoords(this.id);return this._coords={x:e[0],y:e[1],z:e[2]},this._coords}set coords(e){this._coords=e,SetEntityCoords(this.id,e.x,e.y,e.z,!1,!1,!1,!0)}set coordsNoOffset(e){this._coords=e,SetEntityCoordsNoOffset(this.id,e.x,e.y,e.z,!0,!0,!0)}get heading(){return this._heading=GetEntityHeading(this.id),this._heading}set heading(e){this._heading=e,SetEntityHeading(this.id,e)}get collision(){return this._collision=!GetEntityCollisionDisabled(this.id),this._collision}set collision(e){this._collision=value,SetEntityCollision(this.id,e,!1)}get networkId(){return this._networkId=NetworkGetNetworkIdFromEntity(this.id),this._networkId}GetByNetworkId(e){this.id=NetworkGetEntityFromNetworkId(e),this._networkId=e}IsDead(){return Boolean(IsEntityDead(this.id))}IsAlive(){return!this.isDead()}Exist(){return Boolean(DoesEntityExist(this.id))}Delete(){SetEntityAsMissionEntity(this.id,!1,!0),DeleteEntity(this.id)}GetBoneIndex(e){return GetEntityBoneIndexByName(this.id,e)}AsMission(e){let t=0,i=this,o=setInterval((function(){NetworkHasControlOfEntity(i.id)?(SetEntityAsMissionEntity(i.id),IsEntityAMissionEntity(i.id)&&(clearInterval(o),e(!0))):NetworkRequestControlOfEntity(this.id),10===t&&(clearInterval(o),e(!1)),t++}),20)}AsNetworked(e){let t=!1,i=0,o=this,s=setInterval((function(){NetworkHasControlOfEntity(o.id)?(NetworkRegisterEntityAsNetworked(o.id),t=o.networkId,t&&(SetNetworkIdCanMigrate(t,!0),SetNetworkIdExistsOnAllMachines(t,!0),NetworkDoesNetworkIdExist(t)&&(clearInterval(s),e(t)))):NetworkRequestControlOfEntity(this.id),10===i&&(clearInterval(s),e(!1)),i++}),20)}SetCoords(e,t,i){this.coords={x:e,y:t,z:i}}}let _onReady=[];export function OnClientReady(e){_onReady.push(e)}const _loadingClientTimer=setInterval((function(){NetworkIsSessionStarted()&&(clearInterval(_loadingClientTimer),_onReady.forEach((function(e){e()})))}),10);RegisterServerEvent("playerSpawned"),AddEventHandler("playerSpawned",(function(){TriggerServerEvent("ft_core:playerSpawned")}));
class Ped extends Entity{GetPlayer(e){this.id=GetPlayerPed(e)}SetDefaultComponentVariation(){SetPedDefaultComponentVariation(this.id)}SetComponentVariation(e,t,i){SetPedComponentVariation(this.id,e,t,i,0)}IsPlayingAnim(e,t,i=3){return IsEntityPlayingAnim(this.id,e,t,i)}TaskPlayAnim(e,t,i=-1,o=0,s,r=0,l=8,n=8,h=!1,d=!1,a=!1){if(DoesAnimDictExist(e)){RequestAnimDict(e);let u=this,_=setInterval((function(){HasAnimDictLoaded(e)&&(clearInterval(_),-1===i&&0===o&&(i=GetAnimDuration(e,t),setTimeout((function(){s()}),1e3*i)),TaskPlayAnim(u.id,e,t,l,n,i,o,r,h,d,a))}),10)}else console.log("Anim "+e+" not exist !")}TaskPlayAnimAdvanced(e,t,i,o,s,r,l,n,h=-1,d=0,a,u=8,_=8,c=0){if(DoesAnimDictExist(e)){RequestAnimDict(e);let m=this,y=setInterval((function(){HasAnimDictLoaded(e)&&(clearInterval(y),-1===h&&0===d&&(h=GetAnimDuration(e,t),setTimeout((function(){a()}),1e3*h)),TaskPlayAnimAdvanced(m.id,e,t,i,o,s,r,l,n,u,_,h,d,c))}),10)}else console.log("Anim "+e+" not exist !")}ClearPrimaryTasks(){ClearPedTasks(this.id)}ClearSecondaryTasks(){ClearPedSecondaryTask(this.id)}ClearAllTasks(){this.ClearPrimaryTasks(),this.ClearSecondaryTasks()}Spawn(e,t=!1,i=!1){if(IsModelAPed(this._model)){let o=0,s=this;RequestModel(this._model);let r=setInterval((function(){HasModelLoaded(s._model)&&(clearInterval(r),s.id=CreatePed(2,s._model,s._coords.x,s._coords.y,s._coords.z,s._heading,t,i),SetModelAsNoLongerNeeded(s._model),e(s.id)),50===o&&(clearInterval(r),e(!1)),o++}),20)}else e(!1)}}
class Vehicle extends Entity{constructor(){super(),this.windowsIndex=["window_lf","window_rf","window_lr","window_rr"]}get bodyHealth(){return this._bodyHealth=GetVehicleBodyHealth(this.id),this._bodyHealth}set bodyHealth(e){this._bodyHealth=Number(e),SetVehicleBodyHealth(this.id,Number(e))}get class(){return void 0===this._class&&(this._class=GetVehicleClass(this.id)),this._class}get colours(){const e=GetVehicleColours(this.id);return this._colours={primary:e[0],secondary:e[1]},this._colours}set colours(e){this._colours=e,SetVehicleColours(this.id,e.primary,e.secondary)}get customTires(){return this._customTires}set customTires(e){this._customTires=e}get dirtLevel(){return this._dirtLevel=GetVehicleDirtLevel(this.id),this._dirtLevel}set dirtLevel(e){this._dirtLevel=Number(e),SetVehicleDirtLevel(this.id,Number(e))}get doors(){return this._doors}set doors(e){this._doors=e}get engineHealth(){return this._engineHealth=GetVehicleEngineHealth(this.id),this._engineHealth}set engineHealth(e){this._engineHealth=Number(e),SetVehicleEngineHealth(this.id,Number(e))}get engineIsRunning(){return this._engineIsRunning=GetIsVehicleEngineRunning(this.id),this._engineIsRunning}set engineIsRunning(e){this._engineIsRunning=Boolean(e),SetVehicleEngineOn(this.id,this._engineIsRunning,!0,!0)}get extraColours(){const e=GetVehicleExtraColours(this.id);return this._extraColours={pearlescent:e[0],wheel:e[1]},this._extraColours}set extraColours(e){this._extraColours=e,SetVehicleExtraColours(this.id,e.pearlescent,e.wheel)}get extras(){this._extras={};for(let e=0;e<14;e++)this._extras[e]=Boolean(this.IsVehicleExtraTurnedOn(e));return this._extras}set extras(e){this._extras[e.extra]=e.state,SetVehicleExtra(this.id,e.extra,e.state)}get fuelLevel(){return this._fuelLevel=GetVehicleFuelLevel(this.id),this._fuelLevel}set fuelLevel(e){this._fuelLevel=Number(e),SetVehicleFuelLevel(this.id,this._fuelLevel)}set lightMultiplier(e){this._lightMultiplier=Number(e),SetVehicleLightMultiplier(this.id,this._lightMultiplier)}get lights(){const e=GetVehicleLightsState(this.id);return this._lights=e[1]+e[2],this._lights}set lightsMode(e){this._lightsMode=Number(e),SetVehicleLightsMode(this.id,this._lightsMode)}get livery(){return this._livery=GetVehicleLivery(this.id),this._livery}set livery(e){this._livery=e,SetVehicleLivery(this.id,e)}get lookStatus(){return this._lookStatus=GetVehicleDoorLockStatus(this.id),this._lookStatus}set lookStatus(e){this._lookStatus=Boolean(e),SetVehicleDoorsLocked(this.id,Boolean(e))}get modColor1(){const e=GetVehicleModColor_1(this.id);return this._modColor1={paintType:e[0],color:e[1],pearlescent:e[2]},this._modColor1}set modColor1(e){this._modColor1=e,SetVehicleModColor_1(this.id,e.paintType,e.color,e.pearlescent)}get modColor2(){const e=GetVehicleModColor_2(this.id);return this._modColor2={paintType:e[0],color:e[1]},this._modColor2}set modColor2(e){this._modColor2=e,SetVehicleModColor_2(this.id,e.paintType,e.color)}get neonColour(){const e=GetVehicleNeonLightsColour(this.id);return this._neonColour={red:e[0],green:e[1],blue:e[2]},this._neonColour}set neonColour(e){this._neonColour=e,SetVehicleNeonLightsColour(this.id,e.red,e.green,e.blue)}get petrolTankHealth(){return this._petrolTankHealth=GetVehiclePetrolTankHealth(this.id),this._petrolTankHealth}set petrolTankHealth(e){this._petrolTankHealth=Number(e),SetVehiclePetrolTankHealth(this.id,this._petrolTankHealth)}get plateStyle(){return this._plateStyle=GetVehicleNumberPlateTextIndex(this.id),this._plateStyle}set plateStyle(e){this._plateStyle=Number(e),SetVehicleNumberPlateTextIndex(this.id,this._plateStyle)}get plateText(){return this._plateText=GetVehicleNumberPlateText(this.id),this._plateText}set plateText(e){this._plateText=e,SetVehicleNumberPlateText(this.id,this._plateText)}get primaryColour(){const e=GetVehicleCustomPrimaryColour(this.id);return this._primaryColour={red:e[0],green:e[1],blue:e[2]},this._primaryColour}set primaryColour(e){this._primaryColour=e,SetVehicleCustomPrimaryColour(this.id,e.red,e.green,e.blue)}get secondaryColour(){const e=GetVehicleCustomSecondaryColour(this.id);return this._secondaryColour={red:e[0],green:e[1],blue:e[2]},this._secondaryColour}set secondaryColour(e){this._secondaryColour=e,SetVehicleCustomSecondaryColour(this.id,e.red,e.green,e.blue)}get siren(){return this._siren=IsVehicleSirenOn(this.id),this._siren}set siren(e){this._siren=e,SetVehicleSiren(this.id,e)}get trailer(){const e=GetVehicleTrailerVehicle(this.id);return this._trailer=e[1],this._trailer}set trailer(e){this._trailer=e,AttachVehicleToTrailer(this.id,e)}get tyreSmokeColor(){const e=GetVehicleTyreSmokeColor(this.id);return this._tyreSmoke={red:e[0],green:e[1],blue:e[2]},this._tyreSmoke}set tyreSmokeColor(e){this._tyreSmoke=e,SetVehicleTyreSmokeColor(this.id,e.red,e.green,e.blue)}get wheelType(){return this._wheelType=GetVehicleWheelType(this.id),this._wheelType}set wheelType(e){this._wheelType=e,SetVehicleWheelType(this.id,e)}get windowTint(){return this._windowTint=GetVehicleWindowTint(this.id),this._windowTint}set windowTint(e){this._windowTint=e,SetVehicleWindowTint(this.id,e)}GetAllDoorState(){this._doors={};for(let e=0;e<this.GetNumberDoors();e++)this.GetDoorState(e);return this._doors}SetAllDoorsState(e){for(let t in e)this.SetDoorState(t,e[t])}GetAllMod(){for(let e=0;e<49;e++)this.GetMod(e);return this._mod}SetAllMod(e){for(let t in e)this.SetMod(t,e[t])}GetAllNeonLight(){for(let e=0;e<3;e++)this.GetNeonLight(e);return this._neonLight}SetAllNeonLight(e){for(let t in e)this.SetNeonLight(t,e[t])}GetAllTyreBurst(){this._tyreBurst={};const e={wheel_lf:0,wheel_rf:1,wheel_lm1:2,wheel_rm1:3,wheel_lr:4,wheel_rr:5,wheel_lm2:45,wheel_rm2:47,wheel_lm3:46,wheel_rm3:48};for(let t in e)-1!==GetEntityBoneIndexByName(this.id,t)&&IsVehicleTyreBurst(this.id,e[t],!1)&&(this._tyreBurst[e[t]]=!0);return this._tyreBurst}SetTyreBurst(e,t,i=1e3){void 0===this._tyreBurst&&(this._tyreBurst={}),SetVehicleTyreBurst(this.id,Number(e),Boolean(t),i),this._tyreBurst[Number(e)]=Boolean(t)}GetAllWindowState(){this.__windows={};for(let e in this.windowsIndex)this.GetWindowIsIntact(e);return this.__windows}GetDoorAngleRatio(e){return GetVehicleDoorAngleRatio(this.id,Number(e))}GetDoorState(e){let t;return void 0===this._doors&&(this._doors={}),t=this.IsDoorDamaged(e)?-1:this.GetDoorAngleRatio(e),this._doors[Number(e)]=t,t}SetDoorState(e,t){if(void 0===this._doors&&(this._doors={}),-1===Number(t))this.SetDoorBroken(e,!0);else if(0===Number(t))this.SetDoorShut(e,!0);else{this.SetDoorOpen(e,!1,!0);let t=this;setTimeout((function(){t.SetDoorLatched(e,!1,!0)}),100)}this._doors[Number(e)]=t}GetMod(e){return void 0===this._mod&&(this._mod={}),this._mod[Number(e)]=e>=17&&e<=22?Boolean(IsToggleModOn(this.id,Number(e))):GetVehicleMod(this.id,Number(e)),this._mod}SetMod(e,t){void 0===this._mod&&(this._mod={},SetVehicleModKit(this.id,0)),void 0===this._customTires&&(this._customTires=!1),Number(e)>=17&&Number(e)<=22?(ToggleVehicleMod(this.id,Number(e),Boolean(t)),this._mod[Number(e)]=Boolean(t)):(SetVehicleMod(this.id,Number(e),Number(t),this._customTires),this._mod[Number(e)]=Number(t))}GetNeonLight(e){void 0===this._neonLight&&(this._neonLight={}),this._neonLight[e]=Boolean(IsVehicleNeonLightEnabled(this.id,e))}SetNeonLight(e,t){void 0===this._neonLight&&(this._neonLight={}),this._neonLight[Number(e)]=Boolean(t),SetVehicleNeonLightEnabled(this.id,Number(e),Boolean(t))}GetNumberDoors(){return void 0===this._maxDoors&&(this._maxDoors=GetNumberOfVehicleDoors(this.id)),this._maxDoors}IsNeonLightEnabled(e){return Boolean(IsVehicleNeonLightEnabled(this.id,Boolean(e)))}IsDoorDamaged(e){return IsVehicleDoorDamaged(this.id,Number(e))}IsVehicleExtraTurnedOn(e){return IsVehicleExtraTurnedOn(this.id,e)}SetDoorBroken(e,t){SetVehicleDoorBroken(this.id,Number(e),Boolean(t)),this._doors[Number(e)]=-1}SetDoorShut(e,t){SetVehicleDoorShut(this.id,Number(e),Boolean(t)),this._doors[Number(e)]=0}SetDoorOpen(e,t,i){SetVehicleDoorOpen(this.id,Number(e),Boolean(t),Boolean(i))}SetDoorControl(e,t,i){SetVehicleDoorControl(this.id,Number(e),Number(t),Number(i))}SetDoorLatched(e,t,i){SetVehicleDoorLatched(this.id,Number(e),Boolean(t),Boolean(i))}SetAllTyreBurst(e){for(let t in e)this.SetTyreBurst(t,e[t])}GetWindowIsIntact(e){void 0===this.__windows&&(this.__windows={});const t=this.windowsIndex[e];return-1!==GetEntityBoneIndexByName(this.id,t)&&(this.__windows[t]=Boolean(IsVehicleWindowIntact(this.id,Number(e))),this.__windows[t])}SmashWindow(e){SmashVehicleWindow(this.id,Number(e)),this.__windows[Number(e)]=!1}SetAllWindowState(e){void 0===this.__windows&&(this.__windows={});for(let t in e)if(!1===e[t])for(let e in this.windowsIndex)if(this.windowsIndex[e]===t){this.SmashWindow(e);break}}GetVehiclePed(e){return this.id=GetVehiclePedIsUsing(e)}Spawn(e,t=!1,i=!1){if(IsModelAVehicle(this._model)){let o=0,s=this;RequestModel(this._model);let r=setInterval((function(){if(HasModelLoaded(s._model)){clearInterval(r),s.id=CreateVehicle(s._model,s._coords.x,s._coords.y,s._coords.z,s._heading,t,i);const o=["id","_model","_coords","_heading","_networkId","_mod","_neonLight","_doors","_tyreBurst","__windows"];for(let e in s)o.includes(e)||(s[e.substring(1)]=s[e]);void 0!==s._mod&&(SetVehicleModKit(s.id,0),s.SetAllMod(s._mod)),void 0!==s._neonLight&&s.SetAllNeonLight(s._neonLight),void 0!==s._doors&&s.SetAllDoorsState(s._doors),void 0!==s._tyreBurst&&s.SetAllTyreBurst(s._tyreBurst),void 0!==s.__windows&&s.SetAllWindowState(s.__windows),SetModelAsNoLongerNeeded(s._model),e(s.id)}50===o&&(clearInterval(r),e(!1)),o++}),20)}else e(!1)}}